{% extends 'base.html' %}

{% block content %}
<div class="site-section" style="padding-top: 1em;">
  <div class="container">
    <div class="col">
      <table class="table ">
        <thead style="background: rgb(248,248,248);">
          <tr>
            <th scope="col">編號</th>
            <th scope="col">病歷號</th>
            <th scope="col">建立時間</th>
            <th scope="col">操作</th>
          </tr>
        </thead>
        <tbody>
          {% for folder in folders %}
            <tr>
              <th scope="row"><p class="table-name index-number">{{ loop.index }}</p></th>
              <td><p class="table-name text-center">{{ cases[loop.index - 1] }}</p></td>
              <td><p class="table-name text-center">{{ folder }}</p></td>
              <td><div class="col text-center"><button type="submit" class="play-btn md-auto" data-toggle="modal" data-target=".bd-example-modal-lg" onclick="showResult('{{ prs[loop.index-1] }}', '{{ urls[loop.index-1] }}')">播放</button></div></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% include '_modal.html' %}
{% endblock %}

{% block javascript %}
<script>
  function showResult(pr, src) {
    $('.modal h2').text('預測結果: ' + pr)
    $('.modal img').attr({ 'src': src })
  }
</script>
{% endblock %}
